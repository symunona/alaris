(function(){"use strict";var qe=document.createElement("style");qe.textContent=`#weeks{padding:12px}.weeks-grid{display:grid;grid-auto-rows:min-content;gap:6px}.decade-group{display:grid;gap:6px;padding:6px 0 10px;border-bottom:1px solid #e5e7eb}.decade-header{font-weight:600;color:#374151;font-size:12px;letter-spacing:.02em}.weeks-header{display:grid;grid-template-columns:40px repeat(52,16px);gap:4px;align-items:end}.year-head-spacer{width:40px}.week-head{width:16px;font-size:9px;color:#6b7280;text-align:center;line-height:1}.year-row{display:grid;grid-template-columns:40px repeat(52,16px) 40px;gap:4px;align-items:center;position:relative}.year-edge{width:40px;height:16px;border-radius:4px}.year-row:before{content:none}.year-head{width:40px;font-size:11px;color:#4b5563;text-align:right;padding-right:4px}.week-box{width:16px;height:16px;background:transparent;border:1px solid #cbd5e1;border-radius:0;box-shadow:none}.week-box:hover{border-color:#5b9bd5;outline:none}.week-box.before-my-time{background:transparent;border-color:#f8f9fb!important}.week-box.before-my-time:hover{outline:none}.week-box.future{opacity:.2}.week-box.selected{outline:2px solid #2563eb;background:#dbeafe}.week-box.filled{background:#76bde9;border-color:#60a5fa;position:relative}.week-box.season-winter{border-color:#9ca3af}.week-box.season-spring{border-color:#86efac}.week-box.season-summer{border-color:#fbbf24}.week-box.season-autumn{border-color:#ef4444}.week-box.season-winter:hover{border-color:#4b5563}.week-box.season-spring:hover{border-color:#16a34a}.week-box.season-summer:hover{border-color:#a16207}.week-box.season-autumn:hover{border-color:#b91c1c}.tag-bars{display:grid;grid-template-columns:40px 1fr 40px;gap:4px;margin:4px 0 10px}.tag-edge{width:40px;border-radius:4px}.tag-lines{display:flex;flex-direction:column;gap:2px;position:relative;--week: 16px;--gap: 4px;background-image:none;border-radius:4px}.tag-row{position:relative;height:16px;width:calc(52 * var(--week) + (52 - 1) * var(--gap))}.tag-cell{width:16px;height:16px;border:1px solid transparent;border-radius:0;position:relative;overflow:hidden}.tag-span{position:absolute;top:0;left:var(--left, calc(var(--x) * (var(--week) + var(--gap))));width:var(--width, calc(var(--w) * var(--week) + (var(--w) - 1) * var(--gap)));height:16px;border:1px solid transparent;border-radius:2px}.tag-span.edited{box-shadow:0 0 0 2px #22c55e inset,0 0 0 1px #16a34a;border-color:#16a34a!important}.tag-label{position:absolute;left:2px;right:2px;top:0;bottom:0;font-size:9px;line-height:16px;color:#111827;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;pointer-events:none}.tag-hover{display:none;position:absolute;left:0;top:18px;z-index:20;max-width:300px;width:max-content;background:#ffffff;border:1px solid #e5e7eb;border-radius:6px;box-shadow:0 10px 20px #00000014,0 6px 6px #0000000f;padding:8px}.tag-span:hover .tag-hover{display:block}.tag-hover-fields{display:grid;grid-template-columns:1fr;gap:6px}.tag-hover-fields label{display:grid;gap:2px;font-size:11px;color:#374151}.tag-hover-fields input,.tag-hover-fields textarea{width:100%;box-sizing:border-box;padding:6px 8px;border:1px solid #d1d5db;border-radius:4px;background:#f9fafb;color:#111827;font-size:12px}.tag-hover-fields textarea{resize:vertical}.tag-hover-image{margin-top:8px;border:1px solid #e5e7eb;border-radius:4px;overflow:hidden}.tag-hover-image img{display:block;width:100%;height:auto}.event-hover{display:none;position:absolute;left:0;top:18px;z-index:20;max-width:280px;width:max-content;background:#ffffff;border:1px solid #e5e7eb;border-radius:6px;box-shadow:0 10px 20px #00000014,0 6px 6px #0000000f;padding:8px}.week-box:hover .event-hover{display:block}.event-hover-title{font-weight:600;font-size:12px;margin-bottom:6px;color:#111827}.event-hover-list{margin:0;padding:0;list-style:none;display:grid;gap:4px}.event-hover-list li{font-size:12px;color:#374151;cursor:pointer}.event-hover-list li .event-item-link{display:block;color:inherit;text-decoration:none}.event-hover-list li .event-item-link:hover{text-decoration:underline}.event-date{color:#6b7280;margin-right:6px}.event-name{color:#111827;font-weight:500}.event-desc{font-size:11px;color:#4b5563}.event-more{margin-top:6px;font-size:11px;color:#6b7280}.week-event-tooltip{position:fixed;z-index:99999;transform:translateY(6px);pointer-events:auto}.week-event-tooltip .event-hover{display:block!important;position:static;pointer-events:auto}.tag-detail{display:grid;gap:12px;padding:52px 12px 12px;position:relative}.back-btn{width:max-content;padding:6px 10px;font-size:12px;background:#f3f4f6;border:1px solid #e5e7eb;border-radius:4px;cursor:pointer}.back-btn:hover{background:#e5e7eb}.tag-title{margin:0;font-size:20px;font-weight:600;color:#111827}.tag-image-wrap{width:100%;max-height:calc(100vh - 180px);overflow:hidden;border-radius:8px;border:1px solid #e5e7eb;background:#f9fafb}.tag-image-wrap.placeholder{display:grid;place-items:center;color:#6b7280;height:240px}.tag-image{display:block;width:100%;height:100%;object-fit:cover}.tag-form{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;align-items:end}.tag-form label{display:grid;gap:4px;font-size:12px;color:#374151}.tag-form input{height:34px;padding:6px 8px;border:1px solid #d1d5db;border-radius:6px;background:#f9fafb;color:#111827}.tag-form input[readonly]{background:#f3f4f6}.tag-actions{display:flex;gap:8px;position:absolute;top:12px;right:12px;white-space:nowrap}.tag-actions>*{flex:0 0 auto}.delete-btn{background:#fee2e2;border:1px solid #fecaca;color:#991b1b;padding:6px 10px;border-radius:4px;cursor:pointer}.delete-btn:hover{background:#fecaca}
`,document.head.appendChild(qe);const mt=!1,xt=(t,e)=>t===e,wt=Symbol("solid-track"),Te={equals:xt};let Ge=et;const Z=1,De=2,Je={owned:null,cleanups:null,context:null,owner:null};var B=null;let Ue=null,$t=null,M=null,F=null,J=null,Ce=0;function Ee(t,e){const n=M,s=B,a=t.length===0,i=e===void 0?s:e,o=a?Je:{owned:null,cleanups:null,context:i?i.context:null,owner:i},r=a?t:()=>t(()=>fe(()=>xe(o)));B=o,M=null;try{return me(r,!0)}finally{M=n,B=s}}function L(t,e){e=e?Object.assign({},Te,e):Te;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},s=a=>(typeof a=="function"&&(a=a(n.value)),Ze(n,a));return[Qe.bind(n),s]}function E(t,e,n){const s=je(t,e,!1,Z);ve(s)}function Xe(t,e,n){Ge=Tt;const s=je(t,e,!1,Z);(!n||!n.render)&&(s.user=!0),J?J.push(s):ve(s)}function X(t,e,n){n=n?Object.assign({},Te,n):Te;const s=je(t,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,ve(s),Qe.bind(s)}function fe(t){if(M===null)return t();const e=M;M=null;try{return t()}finally{M=e}}function yt(t){Xe(()=>fe(t))}function kt(t){return B===null||(B.cleanups===null?B.cleanups=[t]:B.cleanups.push(t)),t}function Qe(){if(this.sources&&this.state)if(this.state===Z)ve(this);else{const t=F;F=null,me(()=>We(this),!1),F=t}if(M){const t=this.observers?this.observers.length:0;M.sources?(M.sources.push(this),M.sourceSlots.push(t)):(M.sources=[this],M.sourceSlots=[t]),this.observers?(this.observers.push(M),this.observerSlots.push(M.sources.length-1)):(this.observers=[M],this.observerSlots=[M.sources.length-1])}return this.value}function Ze(t,e,n){let s=t.value;return(!t.comparator||!t.comparator(s,e))&&(t.value=e,t.observers&&t.observers.length&&me(()=>{for(let a=0;a<t.observers.length;a+=1){const i=t.observers[a],o=Ue&&Ue.running;o&&Ue.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?F.push(i):J.push(i),i.observers&&tt(i)),o||(i.state=Z)}if(F.length>1e6)throw F=[],new Error},!1)),e}function ve(t){if(!t.fn)return;xe(t);const e=Ce;St(t,t.value,e)}function St(t,e,n){let s;const a=B,i=M;M=B=t;try{s=t.fn(e)}catch(o){return t.pure&&(t.state=Z,t.owned&&t.owned.forEach(xe),t.owned=null),t.updatedAt=n+1,nt(o)}finally{M=i,B=a}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Ze(t,s):t.value=s,t.updatedAt=n)}function je(t,e,n,s=Z,a){const i={fn:t,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:B,context:B?B.context:null,pure:n};return B===null||B!==Je&&(B.owned?B.owned.push(i):B.owned=[i]),i}function Ie(t){if(t.state===0)return;if(t.state===De)return We(t);if(t.suspense&&fe(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Ce);)t.state&&e.push(t);for(let n=e.length-1;n>=0;n--)if(t=e[n],t.state===Z)ve(t);else if(t.state===De){const s=F;F=null,me(()=>We(t,e[0]),!1),F=s}}function me(t,e){if(F)return t();let n=!1;e||(F=[]),J?n=!0:J=[],Ce++;try{const s=t();return _t(n),s}catch(s){n||(J=null),F=null,nt(s)}}function _t(t){if(F&&(et(F),F=null),t)return;const e=J;J=null,e.length&&me(()=>Ge(e),!1)}function et(t){for(let e=0;e<t.length;e++)Ie(t[e])}function Tt(t){let e,n=0;for(e=0;e<t.length;e++){const s=t[e];s.user?t[n++]=s:Ie(s)}for(e=0;e<n;e++)Ie(t[e])}function We(t,e){t.state=0;for(let n=0;n<t.sources.length;n+=1){const s=t.sources[n];if(s.sources){const a=s.state;a===Z?s!==e&&(!s.updatedAt||s.updatedAt<Ce)&&Ie(s):a===De&&We(s,e)}}}function tt(t){for(let e=0;e<t.observers.length;e+=1){const n=t.observers[e];n.state||(n.state=De,n.pure?F.push(n):J.push(n),n.observers&&tt(n))}}function xe(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),s=t.sourceSlots.pop(),a=n.observers;if(a&&a.length){const i=a.pop(),o=n.observerSlots.pop();s<a.length&&(i.sourceSlots[o]=s,a[s]=i,n.observerSlots[s]=o)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)xe(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)xe(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Dt(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function nt(t,e=B){throw Dt(t)}const Ct=Symbol("fallback");function st(t){for(let e=0;e<t.length;e++)t[e]()}function Et(t,e,n={}){let s=[],a=[],i=[],o=0,r=e.length>1?[]:null;return kt(()=>st(i)),()=>{let d=t()||[],f=d.length,u,c;return d[wt],fe(()=>{let h,m,k,$,S,_,D,N,z;if(f===0)o!==0&&(st(i),i=[],s=[],a=[],o=0,r&&(r=[])),n.fallback&&(s=[Ct],a[0]=Ee(V=>(i[0]=V,n.fallback())),o=1);else if(o===0){for(a=new Array(f),c=0;c<f;c++)s[c]=d[c],a[c]=Ee(l);o=f}else{for(k=new Array(f),$=new Array(f),r&&(S=new Array(f)),_=0,D=Math.min(o,f);_<D&&s[_]===d[_];_++);for(D=o-1,N=f-1;D>=_&&N>=_&&s[D]===d[N];D--,N--)k[N]=a[D],$[N]=i[D],r&&(S[N]=r[D]);for(h=new Map,m=new Array(N+1),c=N;c>=_;c--)z=d[c],u=h.get(z),m[c]=u===void 0?-1:u,h.set(z,c);for(u=_;u<=D;u++)z=s[u],c=h.get(z),c!==void 0&&c!==-1?(k[c]=a[u],$[c]=i[u],r&&(S[c]=r[u]),c=m[c],h.set(z,c)):i[u]();for(c=_;c<f;c++)c in k?(a[c]=k[c],i[c]=$[c],r&&(r[c]=S[c],r[c](c))):a[c]=Ee(l);a=a.slice(0,o=f),s=d.slice(0)}return a});function l(h){if(i[c]=h,r){const[m,k]=L(c);return r[c]=k,e(d[c],m)}return e(d[c])}}}function H(t,e){return fe(()=>t(e||{}))}function pe(t){const e="fallback"in t&&{fallback:()=>t.fallback};return X(Et(()=>t.each,t.children,e||void 0))}const Y=t=>X(()=>t());function It(t,e,n){let s=n.length,a=e.length,i=s,o=0,r=0,d=e[a-1].nextSibling,f=null;for(;o<a||r<i;){if(e[o]===n[r]){o++,r++;continue}for(;e[a-1]===n[i-1];)a--,i--;if(a===o){const u=i<s?r?n[r-1].nextSibling:n[i-r]:d;for(;r<i;)t.insertBefore(n[r++],u)}else if(i===r)for(;o<a;)(!f||!f.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[i-1]&&n[r]===e[a-1]){const u=e[--a].nextSibling;t.insertBefore(n[r++],e[o++].nextSibling),t.insertBefore(n[--i],u),e[a]=n[i]}else{if(!f){f=new Map;let c=r;for(;c<i;)f.set(n[c],c++)}const u=f.get(e[o]);if(u!=null)if(r<u&&u<i){let c=o,l=1,h;for(;++c<a&&c<i&&!((h=f.get(e[c]))==null||h!==u+l);)l++;if(l>u-r){const m=e[o];for(;r<u;)t.insertBefore(n[r++],m)}else t.replaceChild(n[r++],e[o++])}else o++;else e[o++].remove()}}}const rt="_$DX_DELEGATE";function Wt(t,e,n,s={}){let a;return Ee(i=>{a=i,e===document?t():x(e,t(),e.firstChild?null:void 0,n)},s.owner),()=>{a(),e.textContent=""}}function T(t,e,n,s){let a;const i=()=>{const r=s?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return r.innerHTML=t,n?r.content.firstChild.firstChild:s?r.firstChild:r.content.firstChild},o=e?()=>fe(()=>document.importNode(a||(a=i()),!0)):()=>(a||(a=i())).cloneNode(!0);return o.cloneNode=o,o}function ze(t,e=window.document){const n=e[rt]||(e[rt]=new Set);for(let s=0,a=t.length;s<a;s++){const i=t[s];n.has(i)||(n.add(i),e.addEventListener(i,Mt))}}function K(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function it(t,e){e==null?t.removeAttribute("class"):t.className=e}function At(t,e,n){if(!e)return n?K(t,"style"):e;const s=t.style;if(typeof e=="string")return s.cssText=e;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),e||(e={});let a,i;for(i in n)e[i]==null&&s.removeProperty(i),delete n[i];for(i in e)a=e[i],a!==n[i]&&(s.setProperty(i,a),n[i]=a);return n}function Ae(t,e,n){n!=null?t.style.setProperty(e,n):t.style.removeProperty(e)}function x(t,e,n,s){if(n!==void 0&&!s&&(s=[]),typeof e!="function")return Me(t,e,s,n);E(a=>Me(t,e(),a,n),s)}function Mt(t){let e=t.target;const n=`$$${t.type}`,s=t.target,a=t.currentTarget,i=d=>Object.defineProperty(t,"target",{configurable:!0,value:d}),o=()=>{const d=e[n];if(d&&!e.disabled){const f=e[`${n}Data`];if(f!==void 0?d.call(e,f,t):d.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&i(e.host),!0},r=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const d=t.composedPath();i(d[0]);for(let f=0;f<d.length-2&&(e=d[f],!!o());f++){if(e._$host){e=e._$host,r();break}if(e.parentNode===a)break}}else r();i(s)}function Me(t,e,n,s,a){for(;typeof n=="function";)n=n();if(e===n)return n;const i=typeof e,o=s!==void 0;if(t=o&&n[0]&&n[0].parentNode||t,i==="string"||i==="number"){if(i==="number"&&(e=e.toString(),e===n))return n;if(o){let r=n[0];r&&r.nodeType===3?r.data!==e&&(r.data=e):r=document.createTextNode(e),n=ge(t,n,s,r)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||i==="boolean")n=ge(t,n,s);else{if(i==="function")return E(()=>{let r=e();for(;typeof r=="function";)r=r();n=Me(t,r,n,s)}),()=>n;if(Array.isArray(e)){const r=[],d=n&&Array.isArray(n);if(He(r,e,n,a))return E(()=>n=Me(t,r,n,s,!0)),()=>n;if(r.length===0){if(n=ge(t,n,s),o)return n}else d?n.length===0?at(t,r,s):It(t,n,r):(n&&ge(t),at(t,r));n=r}else if(e.nodeType){if(Array.isArray(n)){if(o)return n=ge(t,n,s,e);ge(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function He(t,e,n,s){let a=!1;for(let i=0,o=e.length;i<o;i++){let r=e[i],d=n&&n[t.length],f;if(!(r==null||r===!0||r===!1))if((f=typeof r)=="object"&&r.nodeType)t.push(r);else if(Array.isArray(r))a=He(t,r,d)||a;else if(f==="function")if(s){for(;typeof r=="function";)r=r();a=He(t,Array.isArray(r)?r:[r],Array.isArray(d)?d:[d])||a}else t.push(r),a=!0;else{const u=String(r);d&&d.nodeType===3&&d.data===u?t.push(d):t.push(document.createTextNode(u))}}return a}function at(t,e,n=null){for(let s=0,a=e.length;s<a;s++)t.insertBefore(e[s],n)}function ge(t,e,n,s){if(n===void 0)return t.textContent="";const a=s||document.createTextNode("");if(e.length){let i=!1;for(let o=e.length-1;o>=0;o--){const r=e[o];if(a!==r){const d=r.parentNode===t;!i&&!o?d?t.replaceChild(a,r):t.insertBefore(a,n):d&&r.remove()}else i=!0}}else t.insertBefore(a,n);return[a]}var Nt=T('<div class=tag-detail><button class=back-btn>← Back</button><h2 class=tag-title></h2><div class=tag-form><label><span>ID</span><input type=text readonly></label><label><span>Name</span><input type=text></label><label><span>Start date</span><input type=date></label><label><span>End date</span><input type=date></label><label><span>Image</span><input type=text></label><label><span>Place</span><input type=text></label><label style="grid-column:1 / -1"><span>Description</span><textarea rows=6></textarea></label></div><div class=tag-actions><button class=save-btn>Save</button><button class=delete-btn>Delete'),Bt=T("<div class=tag-image-wrap><img class=tag-image>"),Lt=T('<div class="tag-image-wrap placeholder">No image');function lt(t){const e=()=>t.tag||{},[n,s]=L({id:e().id,name:e().name||"",startdate:t.prefill&&t.prefill.startdate||(e().startdate?new Date(e().startdate).toISOString().slice(0,10):""),enddate:t.prefill&&t.prefill.enddate||(e().enddate?new Date(e().enddate).toISOString().slice(0,10):""),background:e().background||"",description:e().description||"",place:e().place||""}),a=r=>{const d=r?new Date(r):null;return!d||isNaN(d.getTime())?null:d.toISOString().slice(0,10)},i=async()=>{const r=n(),d={id:r.id,name:r.name,startdate:a(r.startdate),enddate:a(r.enddate),background:r.background,description:r.description,place:r.place},u=await(await fetch("/api/tag/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).json();t.onSave(u),s({id:u.id,name:u.name||"",startdate:u.startdate?new Date(u.startdate).toISOString().slice(0,10):"",enddate:u.enddate?new Date(u.enddate).toISOString().slice(0,10):"",background:u.background||"",description:u.description||"",place:u.place||""})},o=async()=>{const r=n().id;if(!r||!confirm("Delete this tag? This cannot be undone."))return;(await fetch(`/api/tag/delete/${r}`,{method:"DELETE"})).ok&&t.onDelete(r)};return(()=>{var r=Nt(),d=r.firstChild,f=d.nextSibling,u=f.nextSibling,c=u.firstChild,l=c.firstChild,h=l.nextSibling,m=c.nextSibling,k=m.firstChild,$=k.nextSibling,S=m.nextSibling,_=S.firstChild,D=_.nextSibling,N=S.nextSibling,z=N.firstChild,V=z.nextSibling,he=N.nextSibling,ae=he.firstChild,le=ae.nextSibling,U=he.nextSibling,Q=U.firstChild,ee=Q.nextSibling,be=U.nextSibling,oe=be.firstChild,Be=oe.nextSibling,te=u.nextSibling,ye=te.firstChild,ke=ye.nextSibling;return d.$$click=()=>{try{t.onBack&&t.onBack(e().id)}catch{}history.length>1?history.back():window.location.hash=""},x(f,()=>{var I;return((I=e())==null?void 0:I.name)??"Tag"}),$.$$input=I=>s({...n(),name:I.currentTarget.value}),D.$$input=I=>s({...n(),startdate:I.currentTarget.value}),V.$$input=I=>s({...n(),enddate:I.currentTarget.value}),le.$$input=I=>s({...n(),background:I.currentTarget.value}),ee.$$input=I=>s({...n(),place:I.currentTarget.value}),Be.$$input=I=>s({...n(),description:I.currentTarget.value}),x(r,(()=>{var I=Y(()=>{var q;return!!((q=e())!=null&&q.background)});return()=>I()?(()=>{var q=Bt(),Le=q.firstChild;return E(ne=>{var Oe;var j=e().background,Ye=((Oe=e())==null?void 0:Oe.name)??"Tag image";return j!==ne.e&&K(Le,"src",ne.e=j),Ye!==ne.t&&K(Le,"alt",ne.t=Ye),ne},{e:void 0,t:void 0}),q})():Lt()})(),te),ye.$$click=i,ke.$$click=o,E(()=>h.value=n().id??""),E(()=>$.value=n().name),E(()=>D.value=n().startdate),E(()=>V.value=n().enddate),E(()=>le.value=n().background),E(()=>ee.value=n().place),E(()=>Be.value=n().description),r})()}ze(["click","input"]);var Yt=T('<div class=tag-detail><button class=back-btn>← Back</button><h2 class=tag-title></h2><div class=tag-form><label><span>ID</span><input type=text readonly></label><label><span>Date</span><input type=date></label><label><span>Name</span><input type=text></label><label style="grid-column:1 / -1"><span>Description</span><textarea rows=6></textarea></label></div><div class=tag-actions><button class=save-btn>Save</button><button class=delete-btn>Delete');function ot(t){const e=()=>t.event||{},[n,s]=L({id:e().id,date:t.prefill&&t.prefill.date||(e().date?new Date(e().date).toISOString().slice(0,10):""),name:e().name||"",description:e().description||""}),a=r=>{const d=r?new Date(r):null;return!d||isNaN(d.getTime())?null:d.toISOString().slice(0,10)},i=async()=>{const r=n(),d={id:r.id,date:a(r.date),name:r.name,description:r.description||""},u=await(await fetch("/api/event/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).json();t.onSave(u),s({id:u.id,date:u.date?new Date(u.date).toISOString().slice(0,10):"",name:u.name||"",description:u.description||""})},o=async()=>{const r=n().id;if(!r||!confirm("Delete this event? This cannot be undone."))return;(await fetch(`/api/event/delete/${r}`,{method:"DELETE"})).ok&&t.onDelete(r)};return(()=>{var r=Yt(),d=r.firstChild,f=d.nextSibling,u=f.nextSibling,c=u.firstChild,l=c.firstChild,h=l.nextSibling,m=c.nextSibling,k=m.firstChild,$=k.nextSibling,S=m.nextSibling,_=S.firstChild,D=_.nextSibling,N=S.nextSibling,z=N.firstChild,V=z.nextSibling,he=u.nextSibling,ae=he.firstChild,le=ae.nextSibling;return d.$$click=()=>{try{t.onBack&&t.onBack(e().id)}catch{}history.length>1?history.back():window.location.hash=""},x(f,(()=>{var U=Y(()=>{var Q;return!!((Q=e())!=null&&Q.name)});return()=>{var Q;return U()?`Event: ${(Q=e())==null?void 0:Q.name}`:"Event"}})()),$.$$input=U=>s({...n(),date:U.currentTarget.value}),D.$$input=U=>s({...n(),name:U.currentTarget.value}),V.$$input=U=>s({...n(),description:U.currentTarget.value}),ae.$$click=i,le.$$click=o,E(()=>h.value=n().id??""),E(()=>$.value=n().date),E(()=>D.value=n().name),E(()=>V.value=n().description||""),r})()}ze(["click","input"]);var Ot=T("<div class=event-hover><div class=event-hover-title>Events (<!>)</div><ul class=event-hover-list>"),Pt=T("<li tabindex=0>"),Ft=T("<a class=event-item-link><span class=event-date></span><span class=event-name>"),ct=T("<div class=event-desc>"),Ut=T("<div><span class=event-date></span><span class=event-name>"),jt=T("<div class=event-more>and <!> more…");function zt(t){const e=()=>t.events||[];return(()=>{var n=Ot(),s=n.firstChild,a=s.firstChild,i=a.nextSibling;i.nextSibling;var o=s.nextSibling;return x(s,()=>e().length,i),x(o,()=>e().slice(0,6).map(r=>(()=>{var d=Pt();return x(d,(()=>{var f=Y(()=>r.id!=null);return()=>f()?(()=>{var u=Ft(),c=u.firstChild,l=c.nextSibling;return x(c,()=>r.date),x(l,()=>r.name),x(u,(()=>{var h=Y(()=>!!r.description);return()=>h()?(()=>{var m=ct();return x(m,()=>r.description),m})():null})(),null),E(()=>K(u,"href",`#events/${r.id}`)),u})():(()=>{var u=Ut(),c=u.firstChild,l=c.nextSibling;return x(c,()=>r.date),x(l,()=>r.name),x(u,(()=>{var h=Y(()=>!!r.description);return()=>h()?(()=>{var m=ct();return x(m,()=>r.description),m})():null})(),null),u})()})()),d})())),x(n,(()=>{var r=Y(()=>e().length>6);return()=>r()?(()=>{var d=jt(),f=d.firstChild,u=f.nextSibling;return u.nextSibling,x(d,()=>e().length-6,u),d})():null})(),null),n})()}function Ht(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function dt(...t){const e=[],n=s=>{if(s){if(typeof s=="string")e.push(s);else if(Array.isArray(s))s.forEach(n);else if(typeof s=="object")for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&e.push(a)}};return t.forEach(n),e.join(" ")}function ut(t){const e=new Date(t),n=e.getDay(),s=(n===0?-6:1)-n;return e.setDate(e.getDate()+s),e.setHours(0,0,0,0),e}function Vt(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),n=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-n);const s=new Date(Date.UTC(e.getUTCFullYear(),0,1)),a=Math.ceil(((e.getTime()-s.getTime())/864e5+1)/7);return{isoYear:e.getUTCFullYear(),isoWeek:a}}function ft(t){const{isoYear:e,isoWeek:n}=Vt(t),s=n.toString().padStart(2,"0");return`${e}-${s}`}function Kt(t){const e={};for(const n of Object.keys(t)){const s=parseInt(n,10),a=t[s].sort((o,r)=>(r.length||0)-(o.length||0)),i=[];for(const o of a){let r=0;for(;r<i.length;){const d=i[r];let f=!1;for(const u of d)if(o.startWeek<u.endWeek&&o.endWeek>u.startWeek){f=!0;break}if(!f)break;r++}r===i.length&&i.push([]),i[r].push(o)}for(const o of i)o.sort((r,d)=>r.startWeek-d.startWeek);e[s]=i}return e}function Rt(t,e){const{startDate:n,baseYearLabel:s,years:a}=e,i={};for(const l of t)l&&l.id!=null&&(i[l.id]=l);const o=t.map(l=>{const h=l.startdate?new Date(l.startdate):null,m=l.enddate?new Date(l.enddate):null,k={};if(h){let $=ut(h);const S=m||h;for(;$<=S;)k[ft($)]=!0,$=Ht($,7)}return{id:l.id??null,name:l.name??null,start:h,end:m,weekMap:k,startdate:l.startdate,enddate:l.enddate,place:l.place}}),r=[];for(let l=0;l<a;l++){const h=s+l,m=new Date(h,0,1);r.push({labelYear:h,firstDate:m,pad:0})}const d=Object.create(null);for(const l of r)d[l.labelYear]=l;function f(l){return 52}function u(l,h){const m=d[h];if(!m)return 1;const k=Math.floor((+l-+m.firstDate)/(1e3*60*60*24)),$=Math.floor(k/7)+1;return Math.max(1,Math.min(52,$))}const c={};for(const l of o){const h=l.start instanceof Date&&!isNaN(l.start.getTime()),m=l.end instanceof Date&&!isNaN(l.end.getTime());if(h&&l.start){const k=l.start,$=k.getFullYear(),S=u(k,$),_=m&&l.end&&l.end.getFullYear()===$?u(l.end,$):f();(c[$]=c[$]||[]).push({id:l.id,name:l.name,startWeek:S,endWeek:_,length:_-S+1,startdate:l.startdate,enddate:l.enddate,place:l.place})}if(m&&l.end){const k=l.end,$=k.getFullYear();if(!h||!l.start||$!==l.start.getFullYear()){const _=u(k,$);(c[$]=c[$]||[]).push({id:l.id,name:l.name,startWeek:1,endWeek:_,length:_-1+1,startdate:l.startdate,enddate:l.enddate,place:l.place})}}if(h&&m&&l.start&&l.end){const k=l.start.getFullYear(),$=l.end.getFullYear();if($-k>=2)for(let S=k+1;S<=$-1;S++){const D=f();(c[S]=c[S]||[]).push({id:l.id,name:l.name,startWeek:1,endWeek:D,length:D-1+1,startdate:l.startdate,enddate:l.enddate,place:l.place})}}}return{yearMap:c,tagById:i,tagsList:t,yearSlotMap:Kt(c)}}function we(t){const e={},n={};for(const s of t||[]){const a=s.date?new Date(s.date):null;if(!a||isNaN(a.getTime()))continue;const i=ft(ut(a));(e[i]=e[i]||[]).push(s),s.id!=null&&(n[s.id]=s)}return{eventsByWeek:e,eventById:n,eventsList:t||[]}}const Wn="";var qt=T("<div class=tag-hover><div class=tag-hover-title></div><div class=tag-hover-dates><span></span><span> – </span><span>"),Gt=T("<div class=tag-hover-place>"),Jt=T("<div class=tag-hover-desc>"),Xt=T("<div class=tag-hover-image><img>"),Qt=T("<div class=tag-hover-posts>"),Zt=T("<div class=tag-hover-loading>Loading posts…"),en=T("<div class=tag-hover-error>Failed to load posts."),tn=T("<div class=tag-hover-posts><div class=tag-hover-posts-title>Posts: </div><ul>"),nn=T("<li>"),sn=T("<div class=tag-hover-more>and <!> more…"),rn=T("<div class=tag-hover-none>No posts"),an=T("<div class=weeks-grid>"),ln=T("<div class=decade-group><div class=decade-header></div><div class=weeks-header aria-hidden=true><div class=year-head-spacer>"),on=T("<div class=week-head>"),cn=T("<div class=year-row><div class=year-head></div><div class=year-edge>"),dn=T("<div class=tag-bars><div class=year-head></div><div class=tag-lines></div><div class=tag-edge>"),un=T("<div>"),fn=T("<div class=tag-row>"),pn=T("<div><span class=tag-label> "),gn=T("<div class=week-event-tooltip>");function hn(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),n}function bn(t){return t.toISOString().slice(0,10)}function vn(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),n=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-n);const s=new Date(Date.UTC(e.getUTCFullYear(),0,1)),a=Math.ceil(((e.getTime()-s.getTime())/864e5+1)/7);return{isoYear:e.getUTCFullYear(),isoWeek:a}}function mn(t){const{isoYear:e,isoWeek:n}=vn(t),s=n.toString().padStart(2,"0");return`${e}-${s}`}function xn(t){let e=0;for(let n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return Math.abs(e)}function wn(t){const e=t%360,n=`hsla(${e} 60% 86% / 0.45)`,s=`hsla(${e} 50% 50% / 0.7)`;return{bg:n,border:s}}function $n(t){const e=(t.id!=null?String(t.id):"")+"|"+(t.name!=null?String(t.name):"");return wn(xn(e))}function Ne(t){const e=t.replace("#",""),n=parseInt(e.length===3?e.split("").map(s=>s+s).join(""):e,16);return{r:n>>16&255,g:n>>8&255,b:n&255}}function $e(t,e,n){return{r:Math.round(t.r+(e.r-t.r)*n),g:Math.round(t.g+(e.g-t.g)*n),b:Math.round(t.b+(e.b-t.b)*n)}}function pt(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e})`}function gt(t,e,n){const s=Math.min(90,n),a=Math.max(0,Math.min(s-1,t-e)),i=s/4,o=Math.min(3,Math.floor(a/i)),r=Math.min(1,Math.max(0,(a-o*i)/Math.max(1,i-1))),d=Ne("#86efac"),f=Ne("#fbbf24"),u=Ne("#ef4444"),c=Ne("#9ca3af");let l,h;o===0?(l=d,h=$e(d,f,.5)):o===1?(l=f,h=$e(f,u,.5)):o===2?(l=u,h=$e(u,c,.5)):(l=c,h=$e(c,d,.5));const m=.1,k=.12,$=pt(l,m),S=pt($e(l,h,r),k);return`linear-gradient(90deg, ${$} 0%, ${S} 100%)`}function yn(t){const e=t.tag||{},n=e.startdate?new Date(e.startdate):null,s=e.enddate?new Date(e.enddate):null,a=i=>{if(!i)return"";const o=i instanceof Date?i:new Date(i);return isNaN(o.getTime())?"":o.toISOString().slice(0,10)};return(()=>{var i=qt(),o=i.firstChild,r=o.nextSibling,d=r.firstChild,f=d.nextSibling,u=f.nextSibling;return x(o,()=>e.name||""),x(d,()=>a(n)),x(u,()=>a(s)),x(i,(()=>{var c=Y(()=>!!e.place);return()=>c()?(()=>{var l=Gt();return x(l,()=>e.place),l})():null})(),null),x(i,(()=>{var c=Y(()=>!!e.description);return()=>c()?(()=>{var l=Jt();return x(l,()=>e.description),l})():null})(),null),x(i,(()=>{var c=Y(()=>!!e.background);return()=>c()?(()=>{var l=Xt(),h=l.firstChild;return E(m=>{var k=e.background,$=e.name||"tag image";return k!==m.e&&K(h,"src",m.e=k),$!==m.t&&K(h,"alt",m.t=$),m},{e:void 0,t:void 0}),l})():null})(),null),x(i,(()=>{var c=Y(()=>!!e.postsStatus);return()=>c()?(()=>{var l=Qt();return x(l,(()=>{var h=Y(()=>e.postsStatus==="loading");return()=>h()?Zt():Y(()=>e.postsStatus==="error")()?en():Y(()=>!!(e.posts&&e.posts.length>0))()?(()=>{var m=tn(),k=m.firstChild;k.firstChild;var $=k.nextSibling;return x(k,()=>e.posts.length,null),x($,()=>e.posts.slice(0,15).map(S=>(()=>{var _=nn();return x(_,()=>S.title||`Post #${S.id}`),_})())),x(m,(()=>{var S=Y(()=>e.posts.length>15);return()=>S()?(()=>{var _=sn(),D=_.firstChild,N=D.nextSibling;return N.nextSibling,x(_,()=>e.posts.length-15,N),_})():null})(),null),m})():rn()})()),l})():null})(),null),i})()}function kn(){const t=new Date("1987-05-10"),e=100,n=1987,[s,a]=L({}),[i,o]=L({}),[r,d]=L([]),[f,u]=L({}),[c,l]=L({}),[h,m]=L(typeof window<"u"?window.location.hash:""),[k,$]=L(null),S=X(()=>{const y=(h()||"").match(/^#tags\/(\d+)/);return y?parseInt(y[1],10):null}),_=X(()=>/^#tags\/new$/.test(h()||"")),D=X(()=>{const y=(h()||"").match(/^#events\/(\d+)/);return y?parseInt(y[1],10):null}),N=X(()=>/^#events\/new$/.test(h()||"")),[z,V]=L(null),[he,ae]=L(null),[le,U]=L({}),[Q,ee]=L({}),[be,oe]=L([]),[Be,te]=L(null),[ye,ke]=L(null),[I,q]=L({x:0,y:0,visible:!1}),[Le,ne]=L(null);let j=null;const Ye=X(()=>{const b=[];for(let y=0;y<e;y++){const p=n+y,g=new Date(p,0,1),v=[];for(let w=0;w<52;w++){const O=hn(g,w*7),se=O.toLocaleString(void 0,{month:"short"}),ce=O.toISOString().slice(0,10);v.push({title:`${se} • W${w+1} • ${ce}`,start:O})}b.push({labelYear:p,firstDate:g,pad:0,weeks:v})}return b}),Oe=X(()=>{const b=Ye(),y=[];for(let p=0,g=0;p<b.length;p+=10,g++){const v=b.slice(p,p+10);if(v.length===0)continue;let w;g===0?w="First 10 years":g===1?w="my teens":w=`my ${g}0s`,y.push({label:w,years:v})}return y}),Sn=X(()=>Array.from({length:52},(b,y)=>y+1));async function _n(b){if(b==null)return;const y=f();if(!y[b]){u({...y,[b]:{status:"loading",posts:[]}}),o(p=>({...p,[b]:{...p[b],posts:[],postsStatus:"loading"}}));try{const p=await fetch(`/api/tag/posts/${b}`);if(!p.ok)throw new Error("Bad response");const g=await p.json();u(v=>({...v,[b]:{status:"loaded",posts:g}})),o(v=>({...v,[b]:{...v[b],posts:g,postsStatus:"loaded"}}))}catch{u(g=>({...g,[b]:{status:"error",posts:[]}})),o(g=>({...g,[b]:{...g[b],posts:[],postsStatus:"error"}}))}}}function Se(b){const{yearMap:y,tagById:p,tagsList:g,yearSlotMap:v}=Rt(b,{startDate:t,baseYearLabel:n,years:e});o(p),d(g),a(y),l(v);try{console.log("Years:",v)}catch{}}return yt(()=>{window.addEventListener("hashchange",()=>m(window.location.hash)),fetch("/api/tags").then(b=>b.json()).then(b=>{Se(b)}).catch(b=>console.error(b)),fetch("/api/events").then(b=>b.json()).then(b=>{const y=we(b||[]);console.log("events by week:",y.eventsByWeek),U(y.eventsByWeek),ee(y.eventById),oe(y.eventsList)}).catch(b=>console.error(b))}),Xe(()=>{S()==null&&!_()&&k()!=null&&setTimeout(()=>{const y=document.querySelector(".tag-span.edited");if(y&&typeof y.scrollIntoView=="function")try{y.scrollIntoView({block:"center",inline:"nearest",behavior:"smooth"})}catch{y.scrollIntoView(!0)}},0)}),[Y(()=>Y(()=>!!(S()!=null||_()))()?(()=>{if(_()){const p=he();return H(lt,{tag:{},onSave:g=>{o(w=>({...w,[g.id]:g}));const v=[...r().filter(w=>w.id!==g.id),g];Se(v),V(null),ae(null),$(g.id),window.location.hash=""},onDelete:g=>{o(w=>{const{[g]:O,...se}=w;return se});const v=r().filter(w=>w.id!==g);Se(v),window.location.hash=""},prefill:p||{startdate:"",enddate:""}})}const b=S(),y=i()[b];return H(lt,{tag:y,onSave:p=>{o(v=>({...v,[p.id]:p}));const g=[...r().filter(v=>v.id!==p.id),p];Se(g),$(p.id),window.location.hash=""},onDelete:p=>{o(v=>{const{[p]:w,...O}=v;return O});const g=r().filter(v=>v.id!==p);Se(g),window.location.hash=""},onBack:p=>{p!=null&&$(p)}})})():Y(()=>!!(D()!=null||N()))()?(()=>{if(N())return H(ot,{event:null,onSave:p=>{const g=[...be().filter(w=>w.id!==p.id),p],v=we(g);U(v.eventsByWeek),ee(v.eventById),oe(v.eventsList),te(null),window.location.hash=""},onDelete:p=>{const g=be().filter(w=>w.id!==p),v=we(g);U(v.eventsByWeek),ee(v.eventById),oe(v.eventsList),te(null),window.location.hash=""},get prefill(){return Be()||void 0}});const b=D(),y=Q()[b];return H(ot,{event:y,onSave:p=>{const g=[...be().filter(w=>w.id!==p.id),p],v=we(g);U(v.eventsByWeek),ee(v.eventById),oe(v.eventsList),te(null),window.location.hash=""},onDelete:p=>{const g=be().filter(w=>w.id!==p),v=we(g);U(v.eventsByWeek),ee(v.eventById),oe(v.eventsList),te(null),window.location.hash=""}})})():(()=>{var b=an();return x(b,H(pe,{get each(){return Oe()},children:y=>(()=>{var p=ln(),g=p.firstChild,v=g.nextSibling;return v.firstChild,x(g,()=>y.label),x(v,H(pe,{get each(){return Sn()},children:w=>(()=>{var O=on();return K(O,"title",`Week ${w}`),x(O,w),O})()}),null),x(p,H(pe,{get each(){return y.years},children:w=>[(()=>{var O=cn(),se=O.firstChild,ce=se.nextSibling;return x(se,()=>w.labelYear),x(O,H(pe,{get each(){return w.weeks},children:A=>{const de=()=>z()&&A.start&&z().getTime()===A.start.getTime(),ue=(()=>{const C=A.start.getMonth();return C===11||C===0||C===1?"winter":C>=2&&C<=4?"spring":C>=5&&C<=7?"summer":"autumn"})(),W=mn(A.start),_e=()=>(le()[W]||[]).length>0,Pe=()=>{const C=z();if(!C)V(new Date(A.start));else if(C.getTime()===A.start.getTime())V(null);else{const P=C<A.start?C:A.start,G=C<A.start?A.start:C;ae({startdate:P.toISOString().slice(0,10),enddate:G.toISOString().slice(0,10)}),V(null),window.location.hash="#tags/new"}},Ve=()=>{te({date:A.start.toISOString().slice(0,10)}),window.location.hash="#events/new"};return(()=>{var C=un();return C.addEventListener("mouseleave",()=>{j&&clearTimeout(j),j=window.setTimeout(()=>{q(P=>({...P,visible:!1})),ke(null)},100)}),C.addEventListener("mouseenter",P=>{if(!_e()||(j&&(clearTimeout(j),j=null),I().visible&&Le()===W))return;ne(W);const G=le()[W]||[];ye()!==G&&ke(G);const re=Math.min(P.clientX+12,(window.innerWidth||1024)-260),Fe=Math.min(P.clientY+12,(window.innerHeight||768)-200);(!I()||I().visible===!1||I().x!==re||I().y!==Fe)&&q({x:re,y:Fe,visible:!0})}),C.$$dblclick=Ve,C.$$click=Pe,E(P=>{var G=dt("week-box",`season-${ue}`,{selected:de(),filled:_e(),"before-my-time":A.start.getTime()<new Date("1987-05-10").getTime(),future:A.start.getTime()>new Date().getTime()}),re=A.title;return G!==P.e&&it(C,P.e=G),re!==P.t&&K(C,"title",P.t=re),P},{e:void 0,t:void 0}),C})()}}),ce),E(A=>{var de=`Year ${w.labelYear} — starting ${bn(w.firstDate)}`,ue=gt(w.labelYear,n,e);return de!==A.e&&K(O,"aria-label",A.e=de),ue!==A.t&&Ae(ce,"background",A.t=ue),A},{e:void 0,t:void 0}),O})(),(()=>{var O=dn(),se=O.firstChild,ce=se.nextSibling,A=ce.nextSibling;return x(ce,H(pe,{get each(){return c()[w.labelYear]||[]},children:de=>(()=>{var ue=fn();return x(ue,H(pe,{each:de,children:W=>{const _e=$n(W),Pe=w.pad+W.startWeek,Ve=w.pad+W.endWeek,C=()=>{W.id!=null&&(window.location.hash=`#tags/${W.id}`)},P=new Date(w.labelYear,0,1).getTime(),G=new Date(w.labelYear+1,0,1).getTime(),re=W.startdate?new Date(W.startdate).getTime():P,Fe=W.enddate?new Date(W.enddate).getTime():re,Ke=Math.max(P,re),Tn=Math.min(G,Fe),ht=Math.max(1,G-P),Dn=Math.max(0,(Ke-P)/ht*100),Cn=Math.max(.5,(Math.max(Tn,Ke)-Ke)/ht*100);return(()=>{var ie=pn(),Re=ie.firstChild,En=Re.firstChild;return ie.addEventListener("mouseenter",()=>_n(W.id)),ie.$$click=C,x(Re,(()=>{var R=Y(()=>!!W.place);return()=>R()?W.place+" - ":""})(),En),x(Re,()=>W.name,null),x(ie,()=>{const R=i()[W.id]||{};return H(yn,{tag:R})},null),E(R=>{var bt=dt("tag-span",{edited:k()===W.id}),In=`--x: ${Pe-1}; --w: ${Ve-Pe+1}; --left: ${Dn}%; --width: ${Cn}%; background:${_e.bg}; border-color:${_e.border}; cursor:pointer;`,vt=`${W.name} (W${W.startWeek}–W${W.endWeek})`;return bt!==R.e&&it(ie,R.e=bt),R.t=At(ie,In,R.t),vt!==R.a&&K(ie,"title",R.a=vt),R},{e:void 0,t:void 0,a:void 0}),ie})()}})),ue})()})),E(de=>Ae(A,"background",gt(w.labelYear,n,e))),O})()]}),null),E(()=>K(p,"aria-label",y.label)),p})()})),b})()),Y(()=>{const b=I(),y=ye();return b.visible&&y&&y.length>0?(()=>{var p=gn();return p.addEventListener("mouseleave",()=>{j&&clearTimeout(j),j=window.setTimeout(()=>{q(g=>({...g,visible:!1})),ke(null),ne(null)},140)}),p.addEventListener("mouseenter",()=>{j&&(clearTimeout(j),j=null),q(g=>({...g,visible:!0}))}),p.$$pointerdown=g=>{g.stopPropagation()},x(p,H(zt,{events:y})),E(g=>{var v=`${b.x}px`,w=`${b.y}px`;return v!==g.e&&Ae(p,"left",g.e=v),w!==g.t&&Ae(p,"top",g.t=w),g},{e:void 0,t:void 0}),p})():null})]}document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("weeks");t&&Wt(()=>H(kn,{}),t)}),ze(["click","dblclick","pointerdown"])})();
//# sourceMappingURL=weeks.js.map
